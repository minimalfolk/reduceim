<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="India's best image compressor for resizing image size for free and securely. Reduce your JPG, PNG, GIF, BMP images while maintaining high quality for websites, blogs, and government exam forms. Fast, free, and reliable compression.">
<meta name="keywords" content="Image Compressor India, Resize Image Online, Compress JPG, PNG, GIF, BMP, Free Image Resizer, High-Quality Image Compression, Image Compression for Websites, Image Compression for Blogs, Image Resizer for Government Exam Forms, Secure Image Resizer, Free JPG Compression Tool, Compress Photos India, Reduce Image Size, Compress Images, Free Image Compressor, Image Resizer, Compress JPG, PNG, GIF, BMP, Online Image Compression, Shrink Images Online, Best Image Compressor, Online Image Resizer Tool, Reduce Images for WhatsApp, Instagram Image Resizer, Website Image Compressor, Fast Image Resizer, Free JPG Compression, Compress BMP Online, High-Quality Image Shrinker, AI Image Compressor, Free Online Image Compressor, Image Size Reduction, Compress Photos, Quick Image Compression, ReducePic, Image Resizer for Websites, Shrink Image for Web, Resize Images Free, Reduce Image for Blogs, Shrink Image for Instagram, Compress Image for WhatsApp, Image Resizing Tool, Free Online Image Resizer, Compress Images for Social Media, Shrink Image for Email, Reduce Image Size for Forms, Compress Image for Email, Free Photo Resizer, Compress Image Size for Instagram, Resize Photos Online, Reduce Image for Social Media, Shrink JPG Online, PNG Resizer Tool, Compress GIF for Web, Online JPG Compressor, Free PNG Compression, Free GIF Shrinker, Shrink Image for Website Use, Image Compression for Instagram, Free Image Resizer for Websites, Image Resizer for WhatsApp Photos, Online Image Shrinker, Shrink Photos for Blogs, Online Image Resizing, JPG Image Resizing Tool, Shrink Image for Websites, Resize Your Image for Free, Shrink Images Online Fast, Resize Image for Government Forms, Compress Your Images Online, Reduce Photo File Size for Web, Best Image Resizer for Social Media, Quick Image Shrinker, Free Photo Compressor, Resize Image for Blogs, Compress BMP Images Online, Image Resizer with AI, AI-Powered Image Shrinker, Free Image Compression for Instagram, Compress Image Files Online, Shrink PNG Images Fast, JPG Image Compression for Websites, High-Quality Free Image Compression, Shrink Photos for Email, Reduce Image Size for Social Media, Image Resizing Tool for Free, Compress Images for Instagram, Shrink Image for Fast Uploads, JPG to PNG Compression Tool, Fast Image Compression for Instagram, Quick Image Compression for WhatsApp, Compress Images for Facebook, Image Compressor for Websites and Blogs, Resize Image Online for Free, Best Image Resizing Tool, Compress Image for Twitter, Free High-Quality Image Shrinker, Resize Photos for Free Online, Free Resize Image Tool, Compress Image for Tumblr, Image Size Resizer for Blogs, Free Compress Image Online, Reduce Image Size for Twitter, JPG Resizer Tool, BMP Compression for Web, PNG Compression for Social Media, Quick Resize for Social Media, Fast Image Resizer for Websites, Free Resize Image for Forms, Compress Images for Online Use, Shrink Photo Size for Web, Resize Image for Email, Free Image Size Reduction Tool, Best Compression for Websites, Shrink Images for Instagram Stories, Resize Image for Portfolio Websites, Shrink Image for Pinterest, Free Tool to Resize Images for Web, AI Image Resizer for Websites, Compress Photos for Social Media, Resize and Compress Images Fast, High-Quality Image Compression Free, Reduce Image for Fast Uploading, Compress Image for Mobile Uploads, Free Compression for Social Media Photos, Shrink Images without Quality Loss, Best Online Image Compressor for WhatsApp, Image Resizing for Mobile-Friendly Websites, Free Online Image Compressor for Facebook, Best Image Shrinking Tool for Mobile, Online Compressor for High-Quality Images, Reduce Image Size for Pinterest, Shrink JPG for Websites, Compress High-Quality Images Online, High-Speed Image Resizer, Free Image Resizing and Compression, Instant Image Resizing for Social Media, Reduce Image Size for Blogs, Free Compress for High-Quality Images, Resize Your Image Online for Free, Compress Your Photos Quickly Online, High-Speed Image Resizer for Instagram, Free Online Shrinker for Photos, Shrink Images for WhatsApp, Shrink PNG for Instagram, Compress High-Resolution Images Online, Free Online Resizer for BMP, High-Quality PNG Image Shrinker, Free Online Image Compression for Instagram, Resize Your Image in Seconds, Compress Your Images for Free Online, Resize Your JPG for Free, Quick Compress for High-Quality Images, Free High-Quality Shrink for Images, Image Compression Without Losing Quality, Fast and Secure Image Shrinker, Shrink Your Photos for Free Online, Reduce Image Size Without Compromising Quality, Compress Your Image for Instagram, Free Fast Compression Tool, Instant Online Image Shrinker, Shrink and Resize JPG, PNG, GIF Online, AI Image Shrinker for Websites, Compress Photos for Quick Uploads, Best Online Image Compression Tool for Social Media, Shrink Image for SEO Optimization, Image Compression for Quick Website Load, Free Photo Resizing Tool for Websites, Resize Your Image to Smaller Size, Online Shrinker for Quick Image Compression, Shrink Images Without Losing Quality Online, Compress Images for Quick Social Media Uploads">
<meta name="robots" content="index, follow">

<!-- SEO Optimized Title -->
<title>Reduce Image Size Online – Fast, Free & Secure Image Compressor (India)</title>

<!-- Open Graph for Social Sharing -->
<meta property="og:title" content="Reduce Image Size Online – Free & Fast Image Compressor | ReducePic India">
<meta property="og:description" content="Compress your images online instantly with ReducePic.in. Free, fast, and secure image compression for JPG, PNG, GIF, and BMP. Perfect for WhatsApp, Instagram, and websites.">
<meta property="og:image" content="https://reducepic.in/image-compression-tool.jpg">
<meta property="og:url" content="https://reducepic.in">
<meta property="og:type" content="website">

<!-- Twitter Card -->
<meta name="twitter:title" content="Reduce Image Size – Fast & Free Image Compressor | ReducePic">
<meta name="twitter:description" content="Instantly reduce image size without losing quality! ReducePic.in lets you compress JPG, PNG, GIF, BMP files for free – perfect for WhatsApp, Instagram & more.">
<meta name="twitter:image" content="https://reducepic.in/image-compression-tool.jpg">
<meta name="twitter:card" content="summary_large_image">
<meta name="google-site-verification" content="tFSw_3krhCp7xBursD0kPYXo-twhTfaW73wMX2YPMKQ" />
    <!-- Canonical URL -->
    <link rel="canonical" href="https://reducepic.in">
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "ReducePic – Reduce Image Size Online Free",
  "description": "Reduce image size online for free! Compress JPG, PNG, GIF & BMP without losing quality. Fast, secure & perfect for WhatsApp, Instagram, and websites. Achieve high-quality compression with no visible loss for all your image resizing needs.",
  "applicationCategory": "Utility",
  "operatingSystem": "Web",
  "url": "https://reducepic.in",
  "screenshot": "https://reducepic.in/reduce-image-size-tool.jpg",
  "offers": {
    "@type": "Offer",
    "price": "0.00",
    "priceCurrency": "INR"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.9",
    "reviewCount": "1500"
  },
  "keywords": "Image Compressor, Resize Image, Compress JPG, PNG, GIF, BMP, Free Image Resizer, High-Quality Image Compression, Image Compression for Websites, Free Image Compression Tool, Compress Image for Social Media, Reduce Image Size Online",
  "publisher": {
    "@type": "Organization",
    "name": "ReducePic",
    "logo": {
      "@type": "ImageObject",
      "url": "https://reducepic.in/logo.png"
    }
  },
  "mainEntityOfPage": "https://reducepic.in",
  "sameAs": [
    "https://www.facebook.com/ReducePic",
    "https://twitter.com/ReducePic",
    "https://www.instagram.com/reducepic.in",
    "https://www.linkedin.com/company/ReducePic"
  ]
}
    </script>

    <!-- Favicon -->
    <link rel="icon" href="/assets/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="css/main.css">
</head>

<body>
    <header class="sticky-header">
        <div class="logo" onclick="window.location.href='./'">ReducePic</div>
        <button class="hamburger-menu" aria-label="Toggle navigation menu" onclick="toggleMenu()">☰</button>
        <nav class="nav-links" aria-label="Main navigation">
            <a href="./blog">Blog</a>
            <a href="./resize-image-to-50kb">Resize Image 50KB</a>
            <a href="./about">About</a>
            <a href="./contact">Contact</a>
            <a href="./privacy">Privacy</a>
            <a href="./terms">Terms & Conditions</a>
        </nav>
    </header>

    <section class="compress-image">
  <h1>Smart Image Resizer</h1>
  
  <!-- Upload Container -->
  <div class="upload-container">
    <div class="upload-box" id="uploadBox">
      <i class="fas fa-cloud-upload-alt"></i>
      <h3>Drop your images here</h3>
      <p>or <span>browse files</span></p>
      <input type="file" id="imageInput" accept="image/*" multiple>
    </div>
    <div class="supported-formats">
      <p>Supports: JPG, PNG, WebP, GIF | Max 50MB</p>
    </div>
    
    <!-- Thumbnail Grid -->
    <div class="uploader-grid" id="thumbnailContainer"></div>
  </div>

  <!-- Original Image Previews -->
  <div id="originalPreview" class="preview-grid" style="display: none;"></div>

  <!-- Compression Options -->
  <div class="compression-options">
    <div class="option-group">
      <label for="resizeMode">Resize Mode:</label>
      <select id="resizeMode">
        <option value="percentage">Percentage</option>
        <option value="dimensions">Dimensions</option>
        <option value="filesize">File Size</option>
      </select>
    </div>

    <!-- Percentage Mode -->
    <div class="option-group resize-option" id="percentageOption">
      <label for="resizePercent">Scale (%):</label>
      <input type="range" id="resizePercent" min="1" max="100" value="50">
      <span id="percentValue">50%</span>
    </div>

    <!-- Dimensions Mode -->
    <div class="option-group resize-option" id="dimensionsOption" style="display:none;">
      <div class="dimension-controls">
        <div>
          <label for="targetWidth">Width (px):</label>
          <input type="number" id="targetWidth" min="10" placeholder="Auto">
        </div>
        <div>
          <label for="targetHeight">Height (px):</label>
          <input type="number" id="targetHeight" min="10" placeholder="Auto">
        </div>
      </div>
      <div class="aspect-ratio">
        <input type="checkbox" id="lockAspect" checked>
        <label for="lockAspect">Lock aspect ratio</label>
      </div>
    </div>

    <!-- Filesize Mode -->
    <div class="option-group resize-option" id="filesizeOption" style="display:none;">
      <label for="targetSize">Target Size (KB):</label>
      <input type="number" id="targetSize" min="10" max="5000" step="10" value="500">
    </div>

    <!-- Advanced Options -->
    <div class="advanced-toggle">
      <input type="checkbox" id="toggleAdvanced">
      <label for="toggleAdvanced">Advanced options</label>
    </div>

    <div id="advancedSettings" class="advanced-options">
      <div class="option-group">
        <label for="formatSelect">Output Format:</label>
        <select id="formatSelect">
          <option value="webp">WebP (Recommended)</option>
          <option value="jpg">JPG</option>
          <option value="png">PNG</option>
          <option value="gif">GIF</option>
        </select>
      </div>

      <div class="option-group">
        <label for="qualityPreset">Quality:</label>
        <div class="quality-presets">
          <input type="radio" id="qualityHigh" name="qualityPreset" value="high" checked>
          <label for="qualityHigh">High</label>
          <input type="radio" id="qualityMedium" name="qualityPreset" value="medium">
          <label for="qualityMedium">Medium</label>
          <input type="radio" id="qualityLow" name="qualityPreset" value="low">
          <label for="qualityLow">Low</label>
        </div>
      </div>

      <div class="option-group">
        <label for="optimizationLevel">Optimization:</label>
        <select id="optimizationLevel">
          <option value="balanced">Balanced</option>
          <option value="size">Smallest Size</option>
          <option value="quality">Best Quality</option>
        </select>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button id="compressBtn" class="primary-btn" disabled>
        <i class="fas fa-compress-alt"></i> Process Images
      </button>
      <button id="cancelBtn" class="secondary-btn" style="display:none;">
        <i class="fas fa-times"></i> Cancel
      </button>
    </div>
  </div>

  <!-- Processing Status -->
  <div id="processingStatus" class="status-container" hidden>
    <div class="progress-container">
      <div class="progress-bar" id="progressBar"></div>
      <span id="progressText">0%</span>
    </div>
    <div class="time-remaining" id="timeRemaining"></div>
  </div>

  <!-- Results Section -->
  <div id="resultsSection" style="display:none;">
    <div class="results-header">
      <h2>Processed Images</h2>
      <button id="downloadAllBtn" class="download-all-btn">
        <i class="fas fa-download"></i> Download All
      </button>
    </div>
    <div id="compressedPreview" class="preview-grid"></div>
  </div>
</section>

<style>
  /* Add this CSS to your stylesheet */
  .compress-image {
    max-width: 900px;
    margin: 0 auto;
    padding: 20px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  
  .upload-container {
    border: 2px dashed #ccc;
    border-radius: 8px;
    padding: 30px;
    text-align: center;
    margin-bottom: 20px;
    position: relative;
    transition: all 0.3s;
  }
  
  .upload-container.dragover {
    border-color: #4CAF50;
    background-color: #f8f8f8;
  }
  
  .upload-box {
    cursor: pointer;
  }
  
  .upload-box i {
    font-size: 48px;
    color: #4CAF50;
    margin-bottom: 10px;
  }
  
  .upload-box h3 {
    margin: 10px 0;
    color: #333;
  }
  
  .upload-box p span {
    color: #4CAF50;
    font-weight: bold;
  }
  
  .uploader-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 15px;
    margin-top: 20px;
  }
  
  .preview-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin: 20px 0;
  }
  
  .compression-options {
    background: #f9f9f9;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px;
  }
  
  .option-group {
    margin-bottom: 15px;
  }
  
  .dimension-controls {
    display: flex;
    gap: 15px;
    margin-bottom: 10px;
  }
  
  .dimension-controls > div {
    flex: 1;
  }
  
  input[type="number"], select {
    width: 100%;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
  }
  
  input[type="range"] {
    width: 70%;
    vertical-align: middle;
  }
  
  .action-buttons {
    display: flex;
    gap: 10px;
    margin-top: 20px;
  }
  
  .primary-btn {
    background: #4CAF50;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 4px;
    cursor: pointer;
    flex: 1;
    transition: background 0.3s;
  }
  
  .primary-btn:hover {
    background: #45a049;
  }
  
  .secondary-btn {
    background: #f44336;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 4px;
    cursor: pointer;
    flex: 1;
    transition: background 0.3s;
  }
  
  .secondary-btn:hover {
    background: #d32f2f;
  }
  
  .status-container {
    margin: 20px 0;
  }
  
  .progress-container {
    display: flex;
    align-items: center;
    gap: 10px;
  }
  
  .progress-bar {
    height: 20px;
    background: #e0e0e0;
    border-radius: 10px;
    flex: 1;
    overflow: hidden;
  }
  
  .progress-bar::after {
    content: '';
    display: block;
    height: 100%;
    width: 0%;
    background: #4CAF50;
    transition: width 0.3s;
  }
  
  .results-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }
  
  .download-all-btn {
    background: #2196F3;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.3s;
  }
  
  .download-all-btn:hover {
    background: #0b7dda;
  }
  
  /* Add more styles as needed */
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // DOM Elements
  const uploadBox = document.getElementById('uploadBox');
  const imageInput = document.getElementById('imageInput');
  const thumbnailContainer = document.getElementById('thumbnailContainer');
  const originalPreview = document.getElementById('originalPreview');
  const compressedPreview = document.getElementById('compressedPreview');
  const compressBtn = document.getElementById('compressBtn');
  const cancelBtn = document.getElementById('cancelBtn');
  const downloadAllBtn = document.getElementById('downloadAllBtn');
  const resizeMode = document.getElementById('resizeMode');
  const resizeOptions = document.querySelectorAll('.resize-option');
  const resizePercent = document.getElementById('resizePercent');
  const percentValue = document.getElementById('percentValue');
  const targetWidth = document.getElementById('targetWidth');
  const targetHeight = document.getElementById('targetHeight');
  const lockAspect = document.getElementById('lockAspect');
  const targetSize = document.getElementById('targetSize');
  const formatSelect = document.getElementById('formatSelect');
  const toggleAdvanced = document.getElementById('toggleAdvanced');
  const advancedSettings = document.getElementById('advancedSettings');
  const qualityPresets = document.getElementsByName('qualityPreset');
  const optimizationLevel = document.getElementById('optimizationLevel');
  const processingStatus = document.getElementById('processingStatus');
  const progressBar = document.getElementById('progressBar');
  const progressText = document.getElementById('progressText');
  const timeRemaining = document.getElementById('timeRemaining');
  const resultsSection = document.getElementById('resultsSection');

  // State
  let uploadedFiles = [];
  let cancelProcessing = false;
  let originalAspectRatio = null;
  let processedFiles = [];

  // Initialize
  setupEventListeners();

  function setupEventListeners() {
    // Upload interactions
    uploadBox.addEventListener('click', () => imageInput.click());
    imageInput.addEventListener('change', handleFileSelect);
    uploadBox.addEventListener('dragover', handleDragOver);
    uploadBox.addEventListener('dragleave', handleDragLeave);
    uploadBox.addEventListener('drop', handleDrop);

    // Resize mode switching
    resizeMode.addEventListener('change', updateResizeModeUI);

    // Percentage resize
    resizePercent.addEventListener('input', function() {
      percentValue.textContent = `${this.value}%`;
    });

    // Dimension controls
    targetWidth.addEventListener('input', handleDimensionChange);
    targetHeight.addEventListener('input', handleDimensionChange);

    // Processing controls
    compressBtn.addEventListener('click', startProcessing);
    cancelBtn.addEventListener('click', cancelProcess);
    downloadAllBtn.addEventListener('click', downloadAllProcessed);

    // Advanced options
    toggleAdvanced.addEventListener('change', function() {
      advancedSettings.style.display = this.checked ? 'block' : 'none';
    });
  }

  function handleDragOver(e) {
    e.preventDefault();
    uploadBox.classList.add('dragover');
  }

  function handleDragLeave() {
    uploadBox.classList.remove('dragover');
  }

  function handleDrop(e) {
    e.preventDefault();
    uploadBox.classList.remove('dragover');
    if (e.dataTransfer.files.length) {
      processFiles(e.dataTransfer.files);
    }
  }

  function handleFileSelect(e) {
    if (e.target.files.length) {
      processFiles(e.target.files);
    }
  }

  function updateResizeModeUI() {
    const mode = resizeMode.value;
    resizeOptions.forEach(option => {
      option.style.display = option.id === `${mode}Option` ? 'block' : 'none';
    });
  }

  function handleDimensionChange(e) {
    if (!lockAspect.checked || !originalAspectRatio) return;
    
    const changedField = e.target.id;
    if (changedField === 'targetWidth') {
      targetHeight.value = Math.round(targetWidth.value / originalAspectRatio);
    } else {
      targetWidth.value = Math.round(targetHeight.value * originalAspectRatio);
    }
  }

  async function processFiles(files) {
    // Reset state
    uploadedFiles = [];
    thumbnailContainer.innerHTML = '';
    originalPreview.innerHTML = '';
    resultsSection.style.display = 'none';
    compressBtn.disabled = false;
    
    // Filter valid image files
    const validFiles = Array.from(files).filter(file => {
      if (!file.type.match('image.*')) {
        console.warn(`Skipped non-image file: ${file.name}`);
        return false;
      }
      if (file.size > 50 * 1024 * 1024) {
        console.warn(`Skipped large file: ${file.name} (${formatFileSize(file.size)})`);
        return false;
      }
      return true;
    });

    if (validFiles.length === 0) {
      alert('Please select valid image files (max 50MB each)');
      return;
    }

    uploadedFiles = validFiles;
    uploadBox.style.display = 'none';
    
    // Process each file to create thumbnails and get dimensions
    for (let i = 0; i < uploadedFiles.length; i++) {
      const file = uploadedFiles[i];
      await createThumbnail(file);
      
      // For the first file, set initial dimensions
      if (i === 0) {
        const img = await loadImage(file);
        originalAspectRatio = img.width / img.height;
        targetWidth.value = img.width;
        targetHeight.value = img.height;
      }
    }

    compressBtn.disabled = false;
  }

  async function createThumbnail(file) {
    return new Promise((resolve) => {
      const reader = new FileReader();
      reader.onload = function(e) {
        const thumbnail = document.createElement('div');
        thumbnail.className = 'uploader-thumbnail';
        
        thumbnail.innerHTML = `
          <img src="${e.target.result}" alt="${file.name}">
          <div class="file-info">
            <div class="file-name">${truncateFileName(file.name)}</div>
            <div class="file-size">${formatFileSize(file.size)}</div>
          </div>
          <button class="remove-thumbnail" title="Remove image">&times;</button>
        `;
        
        thumbnail.querySelector('.remove-thumbnail').addEventListener('click', () => {
          thumbnail.remove();
          uploadedFiles = uploadedFiles.filter(f => f !== file);
          if (uploadedFiles.length === 0) {
            uploadBox.style.display = 'block';
            compressBtn.disabled = true;
          }
        });
        
        thumbnailContainer.appendChild(thumbnail);
        resolve();
      };
      reader.readAsDataURL(file);
    });
  }

  async function startProcessing() {
    if (!uploadedFiles.length) return;

    // Setup UI for processing
    cancelProcessing = false;
    cancelBtn.style.display = 'inline-block';
    compressBtn.disabled = true;
    processingStatus.hidden = false;
    resultsSection.style.display = 'none';
    compressedPreview.innerHTML = '';
    processedFiles = [];

    // Get processing parameters
    const mode = resizeMode.value;
    const format = formatSelect.value;
    const quality = document.querySelector('input[name="qualityPreset"]:checked').value;
    const optimization = optimizationLevel.value;

    try {
      // Process each file with progress tracking
      for (let i = 0; i < uploadedFiles.length; i++) {
        if (cancelProcessing) break;
        
        updateProgress(i, uploadedFiles.length);
        const file = uploadedFiles[i];
        
        // Get processing parameters based on mode
        let params = {};
        if (mode === 'percentage') {
          params.scale = parseInt(resizePercent.value) / 100;
        } else if (mode === 'dimensions') {
          params.width = targetWidth.value ? parseInt(targetWidth.value) : null;
          params.height = targetHeight.value ? parseInt(targetHeight.value) : null;
        } else {
          params.targetSize = parseInt(targetSize.value) * 1024; // Convert to bytes
        }
        
        const result = await processImage(file, params, format, quality, optimization);
        if (result) {
          processedFiles.push(result);
          createResultPreview(result, i);
        }
      }
      
      if (!cancelProcessing) {
        resultsSection.style.display = 'block';
      }
    } catch (error) {
      console.error('Processing error:', error);
      alert(`Error: ${error.message}`);
    } finally {
      processingStatus.hidden = true;
      cancelBtn.style.display = 'none';
      compressBtn.disabled = false;
    }
  }

  async function processImage(file, params, format, quality, optimization) {
    return new Promise(async (resolve, reject) => {
      try {
        const img = await loadImage(file);
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        
        // Calculate dimensions based on parameters
        let width, height;
        if (params.scale) {
          width = Math.round(img.width * params.scale);
          height = Math.round(img.height * params.scale);
        } else if (params.width || params.height) {
          if (params.width && params.height) {
            width = params.width;
            height = params.height;
          } else if (params.width) {
            width = params.width;
            height = Math.round(width / (img.width / img.height));
          } else {
            height = params.height;
            width = Math.round(height * (img.width / img.height));
          }
        } else {
          // Filesize mode - implement similar to previous compression algorithm
          width = img.width;
          height = img.height;
        }
        
        // Set canvas dimensions
        canvas.width = width;
        canvas.height = height;
        
        // Draw image with high quality
        ctx.imageSmoothingQuality = 'high';
        ctx.drawImage(img, 0, 0, width, height);
        
        // Convert to blob with specified format and quality
        const qualityValue = getQualityValue(quality);
        const blob = await new Promise(resolve => {
          canvas.toBlob(resolve, `image/${format}`, qualityValue);
        });
        
        if (!blob) throw new Error('Image processing failed');
        
        const url = URL.createObjectURL(blob);
        resolve({
          blob,
          url,
          fileName: file.name,
          format,
          dimensions: { width, height },
          size: blob.size
        });
      } catch (error) {
        reject(error);
      }
    });
  }

  function getQualityValue(preset) {
    switch(preset) {
      case 'high': return 0.8;
      case 'medium': return 0.6;
      default: return 0.4;
    }
  }

  function createResultPreview(result, index) {
    const previewItem = document.createElement('div');
    previewItem.className = 'preview-item';
    
    previewItem.innerHTML = `
      <div class="image-container">
        <img src="${result.url}" alt="Processed ${index + 1}">
      </div>
      <div class="details">
        <p><strong>Name:</strong> ${truncateFileName(result.fileName)}</p>
        <p><strong>Size:</strong> ${formatFileSize(result.size)}</p>
        <p><strong>Format:</strong> ${result.format.toUpperCase()}</p>
        <p><strong>Dimensions:</strong> ${result.dimensions.width} × ${result.dimensions.height}px</p>
        <div class="preview-actions">
          <button class="download-btn">
            <i class="fas fa-download"></i> Download
          </button>
          <button class="copy-btn">
            <i class="fas fa-copy"></i> Copy
          </button>
        </div>
      </div>
    `;
    
    previewItem.querySelector('.download-btn').addEventListener('click', () => {
      downloadFile(result.url, result.fileName, result.format);
    });
    
    previewItem.querySelector('.copy-btn').addEventListener('click', async () => {
      try {
        const blob = await fetch(result.url).then(r => r.blob());
        await navigator.clipboard.write([
          new ClipboardItem({ [blob.type]: blob })
        ]);
        alert('Image copied to clipboard!');
      } catch (err) {
        console.error('Failed to copy:', err);
        alert('Failed to copy image');
      }
    });
    
    compressedPreview.appendChild(previewItem);
  }

  function updateProgress(current, total) {
    const percent = Math.round((current / total) * 100);
    progressBar.style.width = `${percent}%`;
    progressText.textContent = `${percent}%`;
    
    // Simple time remaining estimation (could be improved)
    if (current > 0) {
      const elapsed = Date.now() - startTime;
      const estimatedTotal = elapsed * total / current;
      const remaining = Math.round((estimatedTotal - elapsed) / 1000);
      timeRemaining.textContent = `~${remaining}s remaining`;
    }
  }

  function cancelProcess() {
    cancelProcessing = true;
    processingStatus.hidden = true;
    cancelBtn.style.display = 'none';
    compressBtn.disabled = false;
  }

  function downloadAllProcessed() {
    processedFiles.forEach(file => {
      downloadFile(file.url, file.fileName, file.format);
    });
  }

  // Utility functions
  function loadImage(file) {
    return new Promise((resolve, reject) => {
      const img = new Image();
      img.onload = () => resolve(img);
      img.onerror = () => reject(new Error('Failed to load image'));
      img.src = URL.createObjectURL(file);
    });
  }

  function downloadFile(url, originalName, format) {
    const a = document.createElement('a');
    a.href = url;
    const baseName = originalName.replace(/\.[^/.]+$/, '');
    a.download = `${baseName}_resized.${format}`;
    document.body.appendChild(a);
    a.click();
    setTimeout(() => {
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }, 100);
  }

  function formatFileSize(bytes) {
    if (bytes === 0) return '0 Bytes';
    const k = 1024;
    const sizes = ['Bytes', 'KB', 'MB', 'GB'];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
  }

  function truncateFileName(name, maxLength = 20) {
    if (name.length <= maxLength) return name;
    const extension = name.split('.').pop();
    const baseName = name.substring(0, maxLength - extension.length - 4);
    return `${baseName}...${extension}`;
  }
});
</script>
        <!-- SEO-Optimized Features Section -->
    <section class="features">
        <h2>Why Use Our Free Image Compressor?</h2>
        <ul>
            <li>✅ Reduce image size without losing quality</li>
            <li>✅ Best free online image compressor</li>
            <li>✅ Compress images for WhatsApp, Instagram, and websites</li>
            <li>✅ Supports JPG, PNG, GIF, and BMP</li>
            <li>✅ 100% secure – No data saved</li>
            <li>✅ Fast compression with AI-powered optimization</li>
        </ul>
    </section>

        <!-- FAQ for SEO -->
    <section class="faq">
        <h2>Frequently Asked Questions</h2>
        <details>
            <summary>How to reduce image size online?</summary>
            <p>Upload your image, click "Compress", and instantly get a reduced file size without losing quality.</p>
        </details>
        <details>
            <summary>Does this tool reduce image quality?</summary>
            <p>No! Our smart compression keeps image quality intact while reducing the file size.</p>
        </details>
        <details>
            <summary>Is this image compressor free to use?</summary>
            <p>Yes! ReducePic.in offers a completely free online image compression service with no hidden costs.</p>
        </details>
        <details>
            <summary>Does ReducePic.in work on mobile?</summary>
            <p>Yes, our image compressor is mobile-friendly and works on any device with a browser.</p>
        </details>
    </section>
    </main>

    <footer class="sticky-footer">
        <div class="footer-links">
            <a href="./about">About</a>
            <a href="./contact">Contact</a>
            <a href="./privacy">Privacy</a>
            <a href="./terms">Terms & Conditions</a>
        </div>
        <p>©<span id="currentYear"></span> ReducePic</p>
    </footer>

    <script src="js/main.js" defer></script>
    <script>
        document.getElementById("currentYear").textContent = new Date().getFullYear();
    </script>
</body>
</html>
